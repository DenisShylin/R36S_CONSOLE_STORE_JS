(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();function O(){console.log("Hero section initialized");const o=document.querySelector(".hero"),t=document.querySelector(".hero__console-img"),s=document.querySelector(".hero__content"),n=document.querySelector(".hero__description--desktop"),e=document.querySelector(".hero__description--mobile"),r=document.querySelector(".hero__pricing"),l=document.getElementById("buy-button"),a=document.getElementById("more-details-button");let d=null;function h(){if(!t){console.error("Hero image element not found");return}console.log("Setting up hero image"),t.onerror=()=>{console.error("Failed to load hero image:",t.src);try{const i=t.getAttribute("srcset");if(i){const c=i.split(",");if(c&&c.length>0){const u=c[0].split(" ")[0];console.log("Using fallback image:",u),t.src=u}}}catch(i){console.error("Error setting fallback image:",i)}o==null||o.classList.add("hero--loaded")},t.onload=()=>{console.log("Hero image loaded successfully"),o==null||o.classList.add("hero--loaded")},t.decoding="async",t.complete&&(console.log("Hero image already loaded (from cache)"),o==null||o.classList.add("hero--loaded"))}function f(){const i=window.innerWidth>992;n&&e&&r&&(i?(n.style.display="block",e.style.display="none"):(n.style.display="none",e.style.display="block"))}function w(){s&&(d&&d.disconnect(),d=new IntersectionObserver(i=>{i.forEach(c=>{c.isIntersecting&&(c.target.classList.add("animate-in"),d.unobserve(c.target))})},{threshold:.1}),d.observe(s))}function b(){l&&(l.removeEventListener("click",m),l.addEventListener("click",m)),a&&(a.removeEventListener("click",p),a.addEventListener("click",p))}function m(){try{window.open("https://www.aliexpress.com/item/1005007171465465.html","_blank","noopener,noreferrer")}catch(i){console.error("Error opening product link:",i)}}function p(i){i.preventDefault();const c=document.getElementById("features"),u=document.querySelector(".header");if(c&&u)try{const g=u.offsetHeight,v=c.getBoundingClientRect().top,L=window.scrollY||window.pageYOffset,E=v+L-g;window.scrollTo({top:E,behavior:"smooth"}),window.history.replaceState(null,"",`${window.location.pathname}#features`)}catch(g){console.error("Error scrolling to features:",g),window.location.hash="features"}}function y(){d&&(d.disconnect(),d=null),window.removeEventListener("resize",f),l&&l.removeEventListener("click",m),a&&a.removeEventListener("click",p)}return h(),f(),w(),b(),window.removeEventListener("resize",f),window.addEventListener("resize",f),typeof window<"u"&&window.addEventListener("unload",y),y}console.log("Main.js инициализирован");function S(){const o="IntersectionObserver"in window,t=function(){const n=document.createElement("div");return n.style.display="flex",n.style.display==="flex"}(),s=function(){const n=document.createElement("div");return n.style.display="grid",n.style.display==="grid"}();return console.log("Поддержка браузера:"),console.log("- IntersectionObserver:",o),console.log("- Flexbox:",t),console.log("- CSS Grid:",s),o||document.body.classList.add("no-intersection-observer"),t||document.body.classList.add("no-flexbox"),s||document.body.classList.add("no-grid"),{hasIntersectionObserver:o,hasFlexbox:t,hasGrid:s}}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM загружен"),S(),O();const o=performance.now();console.log(`Страница загружена за ${o.toFixed(2)}ms`)});window.onerror=function(o,t,s,n,e){return console.error("Глобальная ошибка:",{message:o,source:t,lineno:s,colno:n,error:e}),!1};window.appVersion={version:"1.0.0",buildDate:new Date().toISOString(),environment:"production",basePath:"/R36S_CONSOLE_STORE_JS/"};console.log("Main.js выполнение завершено");
//# sourceMappingURL=index.js.map
