(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}})();function S(){console.log("Hero section initialized");const t=document.querySelector(".hero"),o=document.querySelector(".hero__console-img"),n=document.querySelector(".hero__content"),r=document.querySelector(".hero__description--desktop"),e=document.querySelector(".hero__description--mobile"),i=document.querySelector(".hero__pricing"),l=document.getElementById("buy-button"),a=document.getElementById("more-details-button");let d=null;function h(){if(!o){console.error("Hero image element not found");return}console.log("Setting up hero image"),o.onerror=()=>{console.error("Failed to load hero image:",o.src);try{const s=o.getAttribute("srcset");if(s){const c=s.split(",");if(c&&c.length>0){const u=c[0].split(" ")[0];console.log("Using fallback image:",u),o.src=u}}}catch(s){console.error("Error setting fallback image:",s)}t==null||t.classList.add("hero--loaded")},o.onload=()=>{console.log("Hero image loaded successfully"),t==null||t.classList.add("hero--loaded")},o.decoding="async",o.complete&&(console.log("Hero image already loaded (from cache)"),t==null||t.classList.add("hero--loaded"))}function f(){const s=window.innerWidth>992;r&&e&&i&&(s?(r.style.display="block",e.style.display="none"):(r.style.display="none",e.style.display="block"))}function w(){n&&(d&&d.disconnect(),d=new IntersectionObserver(s=>{s.forEach(c=>{c.isIntersecting&&(c.target.classList.add("animate-in"),d.unobserve(c.target))})},{threshold:.1}),d.observe(n))}function v(){l&&(l.removeEventListener("click",m),l.addEventListener("click",m)),a&&(a.removeEventListener("click",g),a.addEventListener("click",g))}function m(){try{window.open("https://www.aliexpress.com/item/1005007171465465.html","_blank","noopener,noreferrer")}catch(s){console.error("Error opening product link:",s)}}function g(s){s.preventDefault();const c=document.getElementById("features"),u=document.querySelector(".header");if(c&&u)try{const p=u.offsetHeight,b=c.getBoundingClientRect().top,L=window.scrollY||window.pageYOffset,E=b+L-p;window.scrollTo({top:E,behavior:"smooth"}),window.history.replaceState(null,"",`${window.location.pathname}#features`)}catch(p){console.error("Error scrolling to features:",p),window.location.hash="features"}}function y(){d&&(d.disconnect(),d=null),window.removeEventListener("resize",f),l&&l.removeEventListener("click",m),a&&a.removeEventListener("click",g)}return h(),f(),w(),v(),window.removeEventListener("resize",f),window.addEventListener("resize",f),typeof window<"u"&&window.addEventListener("unload",y),y}console.log("Main.js инициализирован");function O(){const t="IntersectionObserver"in window,o=function(){const r=document.createElement("div");return r.style.display="flex",r.style.display==="flex"}(),n=function(){const r=document.createElement("div");return r.style.display="grid",r.style.display==="grid"}();return console.log("Поддержка браузера:"),console.log("- IntersectionObserver:",t),console.log("- Flexbox:",o),console.log("- CSS Grid:",n),t||document.body.classList.add("no-intersection-observer"),o||document.body.classList.add("no-flexbox"),n||document.body.classList.add("no-grid"),{hasIntersectionObserver:t,hasFlexbox:o,hasGrid:n}}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM загружен"),O(),S();const t=performance.now();console.log(`Страница загружена за ${t.toFixed(2)}ms`),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/R36S_CONSOLE_STORE_JS/service-worker.js").then(n=>{console.log("ServiceWorker зарегистрирован:",n)}).catch(n=>{console.error("Ошибка регистрации ServiceWorker:",n)})})});window.onerror=function(t,o,n,r,e){return console.error("Глобальная ошибка:",{message:t,source:o,lineno:n,colno:r,error:e}),!1};window.appVersion={version:"1.0.0",buildDate:new Date().toISOString(),environment:"production",basePath:"/R36S_CONSOLE_STORE_JS/"};console.log("Main.js выполнение завершено");
//# sourceMappingURL=index.js.map
