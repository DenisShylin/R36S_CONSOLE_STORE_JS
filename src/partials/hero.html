<!-- Оптимизированная секция Hero с фокусом на производительность -->
<section class="hero" itemscope itemtype="http://schema.org/Product" id="hero">
  <div class="hero__background">
    <div class="hero__overlay"></div>
  </div>

  <div class="hero__container container">
    <div class="hero__content-wrapper">
      <div class="hero__image">
        <div class="hero__image-wrapper">
          <div class="hero__image-glow"></div>

          <!-- Плейсхолдер для быстрой начальной отрисовки - используем встроенное изображение -->
          <div class="hero__placeholder" aria-hidden="true">
            <!-- Встроенный плейсхолдер, очень маленький размер -->
            <img
              src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/wAALCAAUABQBAREA/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUH/8QAHBAAAgICAwAAAAAAAAAAAAAAAAECAxESITFR/9oACAEBAAA/ANLgLB1vCQq7d2OMPPtMsaK0QVFe7Mci1Nef/9k="
              alt=""
              width="30"
              height="20"
            />
          </div>

          <!-- Оптимизированное изображение с WebP и responsive srcset -->
          <picture>
            <!-- Мобильная версия -->
            <source
              media="(max-width: 640px)"
              srcset="/img/hero/herou1_mobile.webp"
              type="image/webp"
            />
            <!-- Десктопная версия -->
            <source
              media="(min-width: 641px)"
              srcset="
                /img/hero/herou1_1x_.webp 1x,
                /img/hero/herou1_2x_.webp 2x
              "
              type="image/webp"
            />
            <img
              src="/img/hero/herou1_1x_.webp"
              alt="R36S Handheld Game Console - Retro Gaming Device with 15000+ Games"
              data-i18n="[alt]hero.meta.altText"
              class="hero__console-img"
              width="600"
              height="400"
              fetchpriority="high"
              loading="eager"
              decoding="async"
              itemprop="image"
            />
          </picture>
        </div>
      </div>

      <div class="hero__title">
        <h1 itemprop="name">
          <span class="hero__title-line" data-i18n="hero.title.firstLine"
            >R36S</span
          >
          <span class="hero__title-line" data-i18n="hero.title.thirdLine"
            >GAME CONSOLE</span
          >
        </h1>
      </div>

      <div class="hero__content">
        <!-- Уменьшено количество meta-тегов для снижения размера документа -->
        <meta
          itemprop="brand"
          content="R36S"
          data-i18n="[content]hero.meta.brand"
        />
        <meta
          itemprop="category"
          content="Handheld Game Console"
          data-i18n="[content]hero.meta.category"
        />

        <p
          class="hero__description hero__description--desktop"
          itemprop="description"
          data-i18n="hero.description.desktop"
        >
          R36S Handheld Game Console opens the door to the exciting world of
          retro gaming, offering an impressive collection of over 15,000
          legendary games from different eras and platforms.
        </p>
        <p
          class="hero__description hero__description--mobile"
          itemprop="description"
          data-i18n="hero.description.mobile"
        >
          R36S Handheld Game Console - Gaming legends in the palm of your hand.
          15,000+ retro games in one portable device.
        </p>

        <div
          class="hero__pricing"
          itemprop="offers"
          itemscope
          itemtype="http://schema.org/Offer"
        >
          <meta itemprop="priceCurrency" content="USD" />
          <meta itemprop="availability" content="http://schema.org/InStock" />
          <link
            itemprop="url"
            href="https://www.aliexpress.com/item/1005007171465465.html"
          />

          <div class="hero__price-wrapper">
            <span class="hero__original-price" data-i18n="hero.pricing.original"
              >Discount -29%</span
            >
          </div>
          <span class="hero__discount-badge" data-i18n="hero.pricing.discount"
            >Discount -68%</span
          >
        </div>

        <div class="hero__buttons">
          <button
            class="hero__button hero__button--primary"
            id="buy-button"
            aria-label="Buy R36S Handheld Game Console with discount"
            data-i18n="[aria-label]hero.meta.buyButtonLabel"
            data-href="https://www.aliexpress.com/item/1005007171465465.html"
          >
            <span class="hero__button-text" data-i18n="hero.buttons.buy"
              >Shop With Discount</span
            >
          </button>
          <button
            id="more-details-button"
            class="hero__button hero__button--secondary"
            aria-label="View more details about R36S Handheld Game Console"
            data-i18n="[aria-label]hero.meta.moreDetailsButtonLabel"
          >
            <span data-i18n="hero.buttons.moreDetails">More details</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Упрощенный рейтинг для Schema.org -->
  <div
    itemprop="aggregateRating"
    itemscope
    itemtype="http://schema.org/AggregateRating"
    class="visually-hidden"
  >
    <meta itemprop="ratingValue" content="4.8" />
    <meta itemprop="reviewCount" content="120" />
  </div>
</section>

<!-- Скрипт для анимации появления контента -->
<script>
  // Инициализация анимации появления Hero элементов
  document.addEventListener('DOMContentLoaded', function () {
    const heroContent = document.querySelector('.hero__content');
    if (heroContent) {
      requestAnimationFrame(() => {
        heroContent.classList.add('animate-in');
      });
    }

    // Обработка завершения загрузки изображения
    const heroImage = document.querySelector('.hero__console-img');
    const placeholder = document.querySelector('.hero__placeholder');

    if (heroImage) {
      if (heroImage.complete) {
        // Изображение уже загружено (из кеша)
        if (placeholder) {
          placeholder.style.opacity = '0';
        }
      } else {
        // Добавляем обработчик для загрузки изображения
        heroImage.onload = function () {
          if (placeholder) {
            placeholder.style.opacity = '0';
          }
        };
      }
    }
  });
</script>
